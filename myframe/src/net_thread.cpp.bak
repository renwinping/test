#define "def.h"

net_thread::net_thread()
{
	_epoll = NULL;
}

net_thread::net_thread()
{
	ASSERT_DO(!_epoll, delete _epoll);
}

void net_thread::init()
{
	int fd[2], ret;

	ret = socketpair(AF_UNIX, 0, SOCK_STREAM, fd);
	ASSERT_DO(ret != -1, LOG_WARNING("socketpair fail errstr[%s]", strerror(errno)));
}

map<pthread_t, int> net_thread::_thd_fd_map;